<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rive ë™ì  ë Œë”ë§ - ë©”ì¸ í˜ì´ì§€</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        .header {
            margin-bottom: 40px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .main-animation {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .rive-canvas {
            width: 100%;
            max-width: 600px;
            height: 400px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            display: block;
            margin: 0 auto 20px;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 25px;
            padding: 12px 24px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            min-width: 120px;
        }
        
        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .status {
            font-size: 18px;
            font-weight: 600;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .animation-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .select-btn {
            background: rgba(255, 255, 255, 0.15);
            border: none;
            border-radius: 20px;
            padding: 8px 16px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
        }
        
        .select-btn:hover {
            background: rgba(255, 255, 255, 0.25);
        }
        
        .select-btn.active {
            background: rgba(255, 255, 255, 0.4);
            font-weight: bold;
        }
        
        .info-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }
        
        .info-box h3 {
            margin-top: 0;
            color: #FFD700;
        }
        
        .info-box ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .info-box li {
            margin: 5px 0;
            opacity: 0.9;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .rive-canvas {
                height: 300px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ­ Rive ë™ì  ë Œë”ë§</h1>
            <p>ì‹¤ì‹œê°„ ì• ë‹ˆë©”ì´ì…˜ì„ ì§ì ‘ ì²´í—˜í•´ë³´ì„¸ìš”!</p>
        </div>
        
        <div class="main-animation">
            <div class="animation-selector">
                <button class="select-btn active" onclick="changeAnimation('vehicles')">ğŸš— ì°¨ëŸ‰</button>
                <button class="select-btn" onclick="changeAnimation('avatar')">ğŸ‘¤ ì•„ë°”íƒ€</button>
                <button class="select-btn" onclick="changeAnimation('loading')">â³ ë¡œë”©</button>
                <button class="select-btn" onclick="changeAnimation('button')">â¤ï¸ ë²„íŠ¼</button>
                <button class="select-btn" onclick="changeAnimation('marvin')">ğŸ¤– ë§ˆë¹ˆ</button>
                <button class="select-btn" onclick="changeAnimation('local')">ğŸ—‚ï¸ ë¡œì»¬</button>
            </div>
            
            <canvas id="main-canvas" class="rive-canvas"></canvas>
            
            <div class="controls">
                <button class="btn" onclick="controlAnimation('play')">â–¶ï¸ ì¬ìƒ</button>
                <button class="btn" onclick="controlAnimation('pause')">â¸ï¸ ì¼ì‹œì •ì§€</button>
                <button class="btn" onclick="controlAnimation('reset')">ğŸ”„ ë¦¬ì…‹</button>
                <button class="btn" onclick="downloadFrame()">ğŸ“· ìŠ¤í¬ë¦°ìƒ·</button>
            </div>
            
            <div id="status" class="status">ì´ˆê¸°í™” ì¤‘...</div>
        </div>
        
        <div class="info-box">
            <h3>ğŸ¯ ì£¼ìš” ê¸°ëŠ¥</h3>
            <ul>
                <li><strong>ë™ì  ë Œë”ë§:</strong> ì‹¤ì‹œê°„ Rive ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ</li>
                <li><strong>ë‹¤ì¤‘ ì• ë‹ˆë©”ì´ì…˜:</strong> 6ê°€ì§€ ì„œë¡œ ë‹¤ë¥¸ ì• ë‹ˆë©”ì´ì…˜ íƒ€ì…</li>
                <li><strong>ì¸í„°ë™í‹°ë¸Œ ì»¨íŠ¸ë¡¤:</strong> ì¬ìƒ/ì¼ì‹œì •ì§€/ë¦¬ì…‹ ê°€ëŠ¥</li>
                <li><strong>ìŠ¤í¬ë¦°ìƒ· ê¸°ëŠ¥:</strong> í˜„ì¬ í”„ë ˆì„ì„ ì´ë¯¸ì§€ë¡œ ì €ì¥</li>
                <li><strong>ë¡œì»¬ ì• ì…‹ ì§€ì›:</strong> í”„ë¡œì íŠ¸ ë‚´ Rive íŒŒì¼ ë¡œë“œ</li>
                <li><strong>í´ë°± ì‹œìŠ¤í…œ:</strong> ë¡œë“œ ì‹¤íŒ¨ ì‹œ Canvas ì• ë‹ˆë©”ì´ì…˜ í‘œì‹œ</li>
            </ul>
        </div>
    </div>

    <script>
        let currentRiveInstance = null;
        let currentAnimationType = 'vehicles';
        let fallbackAnimationId = null;
        
        // Rive ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ
        function loadRiveLibrary() {
            return new Promise((resolve, reject) => {
                if (window.rive) {
                    resolve();
                    return;
                }
                
                const script = document.createElement('script');
                script.src = 'https://unpkg.com/@rive-app/canvas@2.17.3/rive.js';
                script.onload = () => {
                    console.log('âœ… Rive ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ ì™„ë£Œ');
                    resolve();
                };
                script.onerror = () => {
                    console.error('âŒ Rive ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ ì‹¤íŒ¨');
                    reject();
                };
                document.head.appendChild(script);
            });
        }
        
        // ì• ë‹ˆë©”ì´ì…˜ URL ê°€ì ¸ì˜¤ê¸°
        function getAnimationUrl(type) {
            const urls = {
                'vehicles': 'https://cdn.rive.app/animations/vehicles.riv',
                'avatar': 'https://public.rive.app/community/runtime-files/2195-4346-avatar-pack-use-case.riv',
                'loading': 'https://cdn.rive.app/animations/juice_v7.riv',
                'button': 'https://cdn.rive.app/animations/like_button_demo.riv',
                'local': './assets/vehicles.riv',
                'marvin': 'https://cdn.rive.app/animations/marvin.riv'
            };
            return urls[type] || urls.vehicles;
        }
        
        // ì• ë‹ˆë©”ì´ì…˜ ë³€ê²½
        async function changeAnimation(type) {
            currentAnimationType = type;
            
            // í™œì„± ë²„íŠ¼ í‘œì‹œ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.select-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // ê¸°ì¡´ ì• ë‹ˆë©”ì´ì…˜ ì •ë¦¬
            if (currentRiveInstance) {
                currentRiveInstance.cleanup();
                currentRiveInstance = null;
            }
            
            if (fallbackAnimationId) {
                cancelAnimationFrame(fallbackAnimationId);
                fallbackAnimationId = null;
            }
            
            await initAnimation(type);
        }
        
        // ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™”
        async function initAnimation(type) {
            try {
                const canvas = document.getElementById('main-canvas');
                const status = document.getElementById('status');
                
                if (!canvas || !window.rive) return;
                
                status.textContent = `${type} ì• ë‹ˆë©”ì´ì…˜ ë¡œë”© ì¤‘...`;
                status.style.background = 'rgba(255, 193, 7, 0.2)';
                
                const { Rive, Layout, Fit, Alignment } = window.rive;
                const animationUrl = getAnimationUrl(type);
                
                console.log(`ğŸ¬ ${type} ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™”:`, animationUrl);
                
                const riveInstance = new Rive({
                    src: animationUrl,
                    canvas: canvas,
                    autoplay: true,
                    layout: new Layout({
                        fit: Fit.Cover,
                        alignment: Alignment.Center
                    }),
                    onLoad: () => {
                        console.log(`âœ… ${type} ì• ë‹ˆë©”ì´ì…˜ ë¡œë“œ ì™„ë£Œ`);
                        status.textContent = `${type} ì• ë‹ˆë©”ì´ì…˜ ì¬ìƒ ì¤‘ â–¶ï¸`;
                        status.style.background = 'rgba(40, 167, 69, 0.2)';
                        currentRiveInstance = riveInstance;
                    },
                    onLoadError: (error) => {
                        console.error(`âŒ ${type} ì• ë‹ˆë©”ì´ì…˜ ë¡œë“œ ì‹¤íŒ¨:`, error);
                        status.textContent = `${type} ë¡œë“œ ì‹¤íŒ¨ - í´ë°± ì• ë‹ˆë©”ì´ì…˜ í‘œì‹œ ì¤‘`;
                        status.style.background = 'rgba(220, 53, 69, 0.2)';
                        showFallbackAnimation(canvas, type);
                    },
                    onPlay: () => {
                        status.textContent = `${type} ì¬ìƒ ì¤‘ â–¶ï¸`;
                        status.style.background = 'rgba(40, 167, 69, 0.2)';
                    },
                    onPause: () => {
                        status.textContent = `${type} ì¼ì‹œì •ì§€ â¸ï¸`;
                        status.style.background = 'rgba(255, 193, 7, 0.2)';
                    },
                    onStop: () => {
                        status.textContent = `${type} ì •ì§€ â¹ï¸`;
                        status.style.background = 'rgba(108, 117, 125, 0.2)';
                    }
                });
                
            } catch (error) {
                console.error(`âŒ ${type} ì´ˆê¸°í™” ì˜¤ë¥˜:`, error);
                document.getElementById('status').textContent = `${type} ì´ˆê¸°í™” ì‹¤íŒ¨`;
                document.getElementById('status').style.background = 'rgba(220, 53, 69, 0.2)';
            }
        }
        
        // í´ë°± ì• ë‹ˆë©”ì´ì…˜
        function showFallbackAnimation(canvas, type) {
            const ctx = canvas.getContext('2d');
            let angle = 0;
            
            const animate = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // ë°°ê²½ ê·¸ë¼ë°ì´ì…˜
                const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                gradient.addColorStop(0, '#667eea');
                gradient.addColorStop(1, '#764ba2');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;
                
                // íƒ€ì…ë³„ ì• ë‹ˆë©”ì´ì…˜
                drawAnimationByType(ctx, centerX, centerY, angle, type);
                
                angle += 0.05;
                fallbackAnimationId = requestAnimationFrame(animate);
            };
            
            animate();
        }
        
        // íƒ€ì…ë³„ ì• ë‹ˆë©”ì´ì…˜ ê·¸ë¦¬ê¸°
        function drawAnimationByType(ctx, centerX, centerY, angle, type) {
            ctx.fillStyle = '#ffffff';
            ctx.font = '64px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            const icons = {
                'vehicles': 'ğŸš—',
                'avatar': 'ğŸ‘¤',
                'loading': 'â³',
                'button': 'â¤ï¸',
                'marvin': 'ğŸ¤–',
                'local': 'ğŸ—‚ï¸'
            };
            
            const scale = 1 + Math.sin(angle * 2) * 0.15;
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.scale(scale, scale);
            ctx.fillText(icons[type] || 'ğŸ­', 0, 0);
            ctx.restore();
            
            // íšŒì „í•˜ëŠ” ì›
            const radius = 80 + Math.sin(angle * 3) * 20;
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';
            ctx.lineWidth = 3;
            ctx.stroke();
            
            // íŒŒí‹°í´ íš¨ê³¼
            for (let i = 0; i < 8; i++) {
                const particleAngle = angle + i * (Math.PI * 2 / 8);
                const distance = 120 + Math.sin(angle * 2 + i) * 30;
                const x = centerX + Math.cos(particleAngle) * distance;
                const y = centerY + Math.sin(particleAngle) * distance;
                
                ctx.beginPath();
                ctx.arc(x, y, 6, 0, Math.PI * 2);
                ctx.fillStyle = `hsl(${(angle * 180 / Math.PI + i * 45) % 360}, 70%, 70%)`;
                ctx.fill();
            }
        }
        
        // ì• ë‹ˆë©”ì´ì…˜ ì œì–´
        function controlAnimation(action) {
            if (!currentRiveInstance) {
                console.log('í™œì„± ì• ë‹ˆë©”ì´ì…˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            try {
                switch(action) {
                    case 'play':
                        currentRiveInstance.play();
                        break;
                    case 'pause':
                        currentRiveInstance.pause();
                        break;
                    case 'reset':
                        currentRiveInstance.reset();
                        break;
                }
            } catch (error) {
                console.error('ì• ë‹ˆë©”ì´ì…˜ ì œì–´ ì˜¤ë¥˜:', error);
            }
        }
        
        // ìŠ¤í¬ë¦°ìƒ· ë‹¤ìš´ë¡œë“œ
        function downloadFrame() {
            const canvas = document.getElementById('main-canvas');
            const link = document.createElement('a');
            link.download = `rive-${currentAnimationType}-${Date.now()}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }
        
        // ì´ˆê¸°í™”
        async function init() {
            try {
                const status = document.getElementById('status');
                status.textContent = 'Rive ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì¤‘...';
                
                await loadRiveLibrary();
                await initAnimation(currentAnimationType);
                
                console.log('ğŸ‰ ì´ˆê¸°í™” ì™„ë£Œ!');
                
            } catch (error) {
                console.error('âŒ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
                document.getElementById('status').textContent = 'ì´ˆê¸°í™” ì‹¤íŒ¨';
                document.getElementById('status').style.background = 'rgba(220, 53, 69, 0.2)';
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.addEventListener('load', init);
    </script>
</body>
</html>




<!--  const Slot =({name,children}) =>{
const {setSlots} = useContext(SlotContext)
useEffect(())=>{
    setSlots((prev)=>({...prev,[name]:children}))
,[children]}
return null
}               -->