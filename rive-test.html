<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rive ë™ì  ì´ë¯¸ì§€ ë Œë”ë§ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .animation-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        .animation-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }
        .rive-canvas {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            display: block;
            margin: 0 auto;
        }
        .controls {
            margin-top: 10px;
            text-align: center;
        }
        .btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 5px;
            padding: 8px 16px;
            color: white;
            cursor: pointer;
            margin: 0 5px;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        .status {
            margin-top: 10px;
            text-align: center;
            font-size: 14px;
            opacity: 0.8;
        }
        .loading {
            text-align: center;
            padding: 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ­ Rive ë™ì  ì´ë¯¸ì§€ ë Œë”ë§ í…ŒìŠ¤íŠ¸</h1>
            <p>ë‹¤ì–‘í•œ Rive ì• ë‹ˆë©”ì´ì…˜ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•´ë³´ì„¸ìš”!</p>
        </div>

        <div class="grid">
            <!-- ì°¨ëŸ‰ ì• ë‹ˆë©”ì´ì…˜ -->
            <div class="animation-card">
                <div class="animation-title">ğŸš— ì°¨ëŸ‰ ì• ë‹ˆë©”ì´ì…˜</div>
                <canvas id="vehicles-canvas" class="rive-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="controlAnimation('vehicles', 'play')">â–¶ï¸ ì¬ìƒ</button>
                    <button class="btn" onclick="controlAnimation('vehicles', 'pause')">â¸ï¸ ì •ì§€</button>
                    <button class="btn" onclick="controlAnimation('vehicles', 'reset')">ğŸ”„ ë¦¬ì…‹</button>
                </div>
                <div id="vehicles-status" class="status">ë¡œë”© ì¤‘...</div>
            </div>

            <!-- ì•„ë°”íƒ€ ì• ë‹ˆë©”ì´ì…˜ -->
            <div class="animation-card">
                <div class="animation-title">ğŸ‘¤ ì•„ë°”íƒ€ ì• ë‹ˆë©”ì´ì…˜</div>
                <canvas id="avatar-canvas" class="rive-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="controlAnimation('avatar', 'play')">â–¶ï¸ ì¬ìƒ</button>
                    <button class="btn" onclick="controlAnimation('avatar', 'pause')">â¸ï¸ ì •ì§€</button>
                    <button class="btn" onclick="controlAnimation('avatar', 'reset')">ğŸ”„ ë¦¬ì…‹</button>
                </div>
                <div id="avatar-status" class="status">ë¡œë”© ì¤‘...</div>
            </div>

            <!-- ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ -->
            <div class="animation-card">
                <div class="animation-title">â³ ë¡œë”© ì• ë‹ˆë©”ì´ì…˜</div>
                <canvas id="loading-canvas" class="rive-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="controlAnimation('loading', 'play')">â–¶ï¸ ì¬ìƒ</button>
                    <button class="btn" onclick="controlAnimation('loading', 'pause')">â¸ï¸ ì •ì§€</button>
                    <button class="btn" onclick="controlAnimation('loading', 'reset')">ğŸ”„ ë¦¬ì…‹</button>
                </div>
                <div id="loading-status" class="status">ë¡œë”© ì¤‘...</div>
            </div>

            <!-- ë²„íŠ¼ ì• ë‹ˆë©”ì´ì…˜ -->
            <div class="animation-card">
                <div class="animation-title">â¤ï¸ ë²„íŠ¼ ì• ë‹ˆë©”ì´ì…˜</div>
                <canvas id="button-canvas" class="rive-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="controlAnimation('button', 'play')">â–¶ï¸ ì¬ìƒ</button>
                    <button class="btn" onclick="controlAnimation('button', 'pause')">â¸ï¸ ì •ì§€</button>
                    <button class="btn" onclick="controlAnimation('button', 'reset')">ğŸ”„ ë¦¬ì…‹</button>
                </div>
                <div id="button-status" class="status">ë¡œë”© ì¤‘...</div>
            </div>

            <!-- ë¡œì»¬ ì• ì…‹ ì• ë‹ˆë©”ì´ì…˜ -->
            <div class="animation-card">
                <div class="animation-title">ğŸ—‚ï¸ ë¡œì»¬ ì• ì…‹</div>
                <canvas id="local-canvas" class="rive-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="controlAnimation('local', 'play')">â–¶ï¸ ì¬ìƒ</button>
                    <button class="btn" onclick="controlAnimation('local', 'pause')">â¸ï¸ ì •ì§€</button>
                    <button class="btn" onclick="controlAnimation('local', 'reset')">ğŸ”„ ë¦¬ì…‹</button>
                </div>
                <div id="local-status" class="status">ë¡œë”© ì¤‘...</div>
            </div>

            <!-- ë§ˆë¹ˆ ìºë¦­í„° ì• ë‹ˆë©”ì´ì…˜ -->
            <div class="animation-card">
                <div class="animation-title">ğŸ¤– ë§ˆë¹ˆ ìºë¦­í„°</div>
                <canvas id="marvin-canvas" class="rive-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="controlAnimation('marvin', 'play')">â–¶ï¸ ì¬ìƒ</button>
                    <button class="btn" onclick="controlAnimation('marvin', 'pause')">â¸ï¸ ì •ì§€</button>
                    <button class="btn" onclick="controlAnimation('marvin', 'reset')">ğŸ”„ ë¦¬ì…‹</button>
                </div>
                <div id="marvin-status" class="status">ë¡œë”© ì¤‘...</div>
            </div>
        </div>
    </div>

    <script>
        // Rive ì• ë‹ˆë©”ì´ì…˜ ì¸ìŠ¤í„´ìŠ¤ë“¤ ì €ì¥
        const riveInstances = {};
        
        // Rive ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ
        function loadRiveLibrary() {
            return new Promise((resolve, reject) => {
                if (window.rive) {
                    resolve();
                    return;
                }
                
                const script = document.createElement('script');
                script.src = 'https://unpkg.com/@rive-app/canvas@2.17.3/rive.js';
                script.onload = () => {
                    console.log('âœ… Rive ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ ì™„ë£Œ');
                    resolve();
                };
                script.onerror = () => {
                    console.error('âŒ Rive ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ ì‹¤íŒ¨');
                    reject();
                };
                document.head.appendChild(script);
            });
        }

        // ì• ë‹ˆë©”ì´ì…˜ URL ê°€ì ¸ì˜¤ê¸°
        function getAnimationUrl(type) {
            const urls = {
                'vehicles': 'https://cdn.rive.app/animations/vehicles.riv',
                'avatar': 'https://public.rive.app/community/runtime-files/2195-4346-avatar-pack-use-case.riv',
                'loading': 'https://cdn.rive.app/animations/juice_v7.riv',
                'button': 'https://cdn.rive.app/animations/like_button_demo.riv',
                'local': './assets/vehicles.riv',
                'marvin': 'https://cdn.rive.app/animations/marvin.riv'
            };
            return urls[type] || urls.vehicles;
        }

        // ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™”
        async function initAnimation(type) {
            try {
                const canvas = document.getElementById(`${type}-canvas`);
                const status = document.getElementById(`${type}-status`);
                
                if (!canvas || !window.rive) return;

                status.textContent = 'ë¡œë”© ì¤‘...';
                
                const { Rive, Layout, Fit, Alignment } = window.rive;
                const animationUrl = getAnimationUrl(type);
                
                console.log(`ğŸ¬ ${type} ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™” ì‹œì‘:`, animationUrl);
                
                const riveInstance = new Rive({
                    src: animationUrl,
                    canvas: canvas,
                    autoplay: true,
                    layout: new Layout({
                        fit: Fit.Cover,
                        alignment: Alignment.Center
                    }),
                    onLoad: () => {
                        console.log(`âœ… ${type} ì• ë‹ˆë©”ì´ì…˜ ë¡œë“œ ì™„ë£Œ`);
                        status.textContent = 'ì¬ìƒ ì¤‘ â–¶ï¸';
                        riveInstances[type] = riveInstance;
                    },
                    onLoadError: (error) => {
                        console.error(`âŒ ${type} ì• ë‹ˆë©”ì´ì…˜ ë¡œë“œ ì‹¤íŒ¨:`, error);
                        status.textContent = 'ë¡œë“œ ì‹¤íŒ¨ âŒ';
                        // ì‹¤íŒ¨ ì‹œ í´ë°± ì• ë‹ˆë©”ì´ì…˜ í‘œì‹œ
                        showFallbackAnimation(canvas, type);
                    },
                    onPlay: () => {
                        console.log(`â–¶ï¸ ${type} ì¬ìƒ ì‹œì‘`);
                        status.textContent = 'ì¬ìƒ ì¤‘ â–¶ï¸';
                    },
                    onPause: () => {
                        console.log(`â¸ï¸ ${type} ì¼ì‹œì •ì§€`);
                        status.textContent = 'ì¼ì‹œì •ì§€ â¸ï¸';
                    },
                    onStop: () => {
                        console.log(`â¹ï¸ ${type} ì •ì§€`);
                        status.textContent = 'ì •ì§€ â¹ï¸';
                    }
                });

            } catch (error) {
                console.error(`âŒ ${type} ì´ˆê¸°í™” ì˜¤ë¥˜:`, error);
                document.getElementById(`${type}-status`).textContent = 'ì˜¤ë¥˜ ë°œìƒ âŒ';
            }
        }

        // í´ë°± ì• ë‹ˆë©”ì´ì…˜ (Rive íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨ ì‹œ)
        function showFallbackAnimation(canvas, type) {
            const ctx = canvas.getContext('2d');
            let angle = 0;
            
            const animate = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // ë°°ê²½ ê·¸ë¼ë°ì´ì…˜
                const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                gradient.addColorStop(0, '#667eea');
                gradient.addColorStop(1, '#764ba2');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;
                
                // íƒ€ì…ë³„ í´ë°± ì• ë‹ˆë©”ì´ì…˜
                switch(type) {
                    case 'vehicles':
                        drawVehicleAnimation(ctx, centerX, centerY, angle);
                        break;
                    case 'avatar':
                        drawAvatarAnimation(ctx, centerX, centerY, angle);
                        break;
                    case 'loading':
                        drawLoadingAnimation(ctx, centerX, centerY, angle);
                        break;
                    case 'button':
                        drawButtonAnimation(ctx, centerX, centerY, angle);
                        break;
                    case 'local':
                        drawLocalAnimation(ctx, centerX, centerY, angle);
                        break;
                    case 'marvin':
                        drawMarvinAnimation(ctx, centerX, centerY, angle);
                        break;
                    default:
                        drawDefaultAnimation(ctx, centerX, centerY, angle);
                }
                
                angle += 0.05;
                requestAnimationFrame(animate);
            };
            
            animate();
        }

        // ê° íƒ€ì…ë³„ í´ë°± ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜ë“¤
        function drawVehicleAnimation(ctx, centerX, centerY, angle) {
            ctx.fillStyle = '#ffffff';
            ctx.font = '48px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            const carScale = 1 + Math.sin(angle * 2) * 0.1;
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.scale(carScale, carScale);
            ctx.fillText('ğŸš—', 0, 0);
            ctx.restore();
            
            // ì›€ì§ì´ëŠ” ë°”í€´ íš¨ê³¼
            for (let i = 0; i < 4; i++) {
                const wheelAngle = angle * 3 + i * (Math.PI / 2);
                const radius = 60;
                const x = centerX + Math.cos(wheelAngle) * radius;
                const y = centerY + Math.sin(wheelAngle) * radius;
                
                ctx.beginPath();
                ctx.arc(x, y, 8, 0, Math.PI * 2);
                ctx.fillStyle = '#FFD700';
                ctx.fill();
            }
        }

        function drawAvatarAnimation(ctx, centerX, centerY, angle) {
            ctx.fillStyle = '#ffffff';
            ctx.font = '48px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            const avatarScale = 1 + Math.sin(angle * 2) * 0.1;
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.scale(avatarScale, avatarScale);
            ctx.fillText('ğŸ‘¤', 0, 0);
            ctx.restore();
            
            // í„ìŠ¤ íš¨ê³¼
            const pulseRadius = 40 + Math.sin(angle * 3) * 20;
            ctx.beginPath();
            ctx.arc(centerX, centerY, pulseRadius, 0, Math.PI * 2);
            ctx.strokeStyle = '#00BCD4';
            ctx.lineWidth = 3;
            ctx.stroke();
        }

        function drawLoadingAnimation(ctx, centerX, centerY, angle) {
            ctx.fillStyle = '#ffffff';
            ctx.font = '48px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('â³', centerX, centerY);
            
            // íšŒì „í•˜ëŠ” ë¡œë”© ë°”
            ctx.beginPath();
            ctx.arc(centerX, centerY, 60, 0, angle * 2);
            ctx.strokeStyle = '#4CAF50';
            ctx.lineWidth = 5;
            ctx.stroke();
        }

        function drawButtonAnimation(ctx, centerX, centerY, angle) {
            const heartScale = 1 + Math.sin(angle * 6) * 0.2;
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.scale(heartScale, heartScale);
            ctx.fillStyle = '#ffffff';
            ctx.font = '48px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('â¤ï¸', 0, 0);
            ctx.restore();
            
            // íŒŒë™ íš¨ê³¼
            const rippleRadius = (Math.sin(angle * 2) + 1) * 30;
            ctx.beginPath();
            ctx.arc(centerX, centerY, rippleRadius, 0, Math.PI * 2);
            ctx.strokeStyle = '#E91E63';
            ctx.lineWidth = 2;
            ctx.stroke();
        }

        function drawLocalAnimation(ctx, centerX, centerY, angle) {
            ctx.fillStyle = '#ffffff';
            ctx.font = '48px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('ğŸ—‚ï¸', centerX, centerY);
            
            // íšŒì „í•˜ëŠ” í…Œë‘ë¦¬
            ctx.beginPath();
            ctx.arc(centerX, centerY, 70, angle, angle + Math.PI);
            ctx.strokeStyle = '#FF9800';
            ctx.lineWidth = 4;
            ctx.stroke();
        }

        function drawMarvinAnimation(ctx, centerX, centerY, angle) {
            const robotScale = 1 + Math.sin(angle * 2) * 0.1;
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.scale(robotScale, robotScale);
            ctx.fillStyle = '#ffffff';
            ctx.font = '48px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('ğŸ¤–', 0, 0);
            ctx.restore();
            
            // íŒŒí‹°í´ íš¨ê³¼
            for (let i = 0; i < 12; i++) {
                const particleAngle = angle + i * (Math.PI * 2 / 12);
                const distance = 50 + Math.sin(angle * 3 + i) * 15;
                const x = centerX + Math.cos(particleAngle) * distance;
                const y = centerY + Math.sin(particleAngle) * distance;
                
                ctx.beginPath();
                ctx.arc(x, y, 3, 0, Math.PI * 2);
                ctx.fillStyle = '#64B5F6';
                ctx.fill();
            }
        }

        function drawDefaultAnimation(ctx, centerX, centerY, angle) {
            for (let i = 0; i < 8; i++) {
                const x = centerX + Math.cos(angle + i * Math.PI / 4) * 50;
                const y = centerY + Math.sin(angle + i * Math.PI / 4) * 50;
                
                ctx.beginPath();
                ctx.arc(x, y, 12, 0, Math.PI * 2);
                ctx.fillStyle = `hsl(${(angle * 180 / Math.PI + i * 45) % 360}, 70%, 60%)`;
                ctx.fill();
            }
        }

        // ì• ë‹ˆë©”ì´ì…˜ ì œì–´ í•¨ìˆ˜
        function controlAnimation(type, action) {
            const instance = riveInstances[type];
            const status = document.getElementById(`${type}-status`);
            
            if (!instance) {
                console.log(`${type} ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤.`);
                return;
            }
            
            try {
                switch(action) {
                    case 'play':
                        instance.play();
                        status.textContent = 'ì¬ìƒ ì¤‘ â–¶ï¸';
                        break;
                    case 'pause':
                        instance.pause();
                        status.textContent = 'ì¼ì‹œì •ì§€ â¸ï¸';
                        break;
                    case 'reset':
                        instance.reset();
                        status.textContent = 'ë¦¬ì…‹ ì™„ë£Œ ğŸ”„';
                        break;
                }
            } catch (error) {
                console.error(`${type} ì œì–´ ì˜¤ë¥˜:`, error);
            }
        }

        // ì´ˆê¸°í™”
        async function init() {
            try {
                await loadRiveLibrary();
                
                // ëª¨ë“  ì• ë‹ˆë©”ì´ì…˜ íƒ€ì… ì´ˆê¸°í™”
                const types = ['vehicles', 'avatar', 'loading', 'button', 'local', 'marvin'];
                
                for (const type of types) {
                    await initAnimation(type);
                    // ê° ì• ë‹ˆë©”ì´ì…˜ ì‚¬ì´ì— ì•½ê°„ì˜ ì§€ì—° ì¶”ê°€
                    await new Promise(resolve => setTimeout(resolve, 500));
                }
                
                console.log('ğŸ‰ ëª¨ë“  ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™” ì™„ë£Œ!');
                
            } catch (error) {
                console.error('âŒ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.addEventListener('load', init);
    </script>
</body>
</html> 